var module$VizDataModel={};var VizDataModel$$module$VizDataModel=function(){};VizDataModel$$module$VizDataModel.prototype.getPositions=function(){return this.positions.asArray()};VizDataModel$$module$VizDataModel.prototype.addPosition=function(position){Util.log.console("Adding pos:");Util.log.console(position);this.positions.push(position);return this.positions.length};var comparator$$module$VizDataModel=function(a,b){return a.posId==b.posId};
VizDataModel$$module$VizDataModel.prototype.removePosition=function(position){var toremove=this.positions.indexOf(position,comparator$$module$VizDataModel);Util.log.console("To remove pos at index "+toremove);this.positions.remove(toremove)};VizDataModel$$module$VizDataModel.prototype.getElementInCell=function(pos){var toReturn="";var temp=this.getPositions();$(temp).each(function(i){if(this.x==pos.x&&this.y==pos.y)toReturn=this.elementId});return toReturn};
VizDataModel$$module$VizDataModel.prototype.isEmpty=function(pos){var toReturn=true;var temp=this.getPositions();$(temp).each(function(i){if(this.x==pos.x&&this.y==pos.y)toReturn=false});return toReturn};VizDataModel$$module$VizDataModel.prototype.getPositionInCell=function(pos){var toReturn="";var temp=this.getPositions();$(temp).each(function(i){if(this.x==pos.x&&this.y==pos.y)toReturn=this});return toReturn};
VizDataModel$$module$VizDataModel.prototype.removeAllPositions=function(){Util.log.console("Removing all positions");this.positions.removeRange(0,this.positions.length);return this.positions.length};VizDataModel$$module$VizDataModel.prototype.getElements=function(){return this.elements.asArray()};VizDataModel$$module$VizDataModel.prototype.isStory=function(elem){return elem.elementId.substr(0,1)=="S"};
VizDataModel$$module$VizDataModel.prototype.isForce=function(elem){return elem.elementId.substr(0,1)=="F"};VizDataModel$$module$VizDataModel.prototype.isSolution=function(elem){return elem.elementId.substr(0,1)=="C"};VizDataModel$$module$VizDataModel.prototype.getStories=function(){var temp=this.elements.asArray();return temp.filter(this.isStory)};VizDataModel$$module$VizDataModel.prototype.getForces=function(){var temp=this.elements.asArray();return temp.filter(this.isForce)};
VizDataModel$$module$VizDataModel.prototype.getSolutions=function(){var temp=this.elements.asArray();return temp.filter(this.isSolution)};VizDataModel$$module$VizDataModel.prototype.addElement=function(element){this.elements.push(element);return this.elements.length};var elemcomparator$$module$VizDataModel=function(a,b){return a.elementId==b.elementId};
VizDataModel$$module$VizDataModel.prototype.removeElement=function(element){var toremove=this.elements.indexOf(element,elemcomparator$$module$VizDataModel);Util.log.console("To remove element at index "+toremove);this.elements.remove(toremove)};VizDataModel$$module$VizDataModel.prototype.getElementDescription=function(elementId){var desc="";var temp=AppContext.vizdata.getElements();$(temp).each(function(i){if(this.elementId==elementId)desc=this.description});return desc};
VizDataModel$$module$VizDataModel.prototype.getElementObj=function(elementId){var element="";var temp=AppContext.vizdata.getElements();$(temp).each(function(i){if(this.elementId==elementId)element=this});return element};
VizDataModel$$module$VizDataModel.prototype.getContentElementType=function(elementId){var elementObj=this.getElementObj(elementId);if(elementObj==="")return"";if(this.isForce(elementObj))return"forces";else if(this.isStory(elementObj))return"stories";else if(this.isSolution(elementObj))return"solutionComponents";else return""};
VizDataModel$$module$VizDataModel.prototype.removeAllElements=function(){Util.log.console("removing all content elements");this.elements.removeRange(0,this.elements.length);return this.elements.length};VizDataModel$$module$VizDataModel.prototype.insertAllElements=function(importedElements){Util.log.console("Adding new content elements");this.elements.pushAll(importedElements);return this.elements.length};
VizDataModel$$module$VizDataModel.prototype.removeAllPositions=function(){Util.log.console("Removing all positions");this.positions.removeRange(0,this.positions.length)};VizDataModel$$module$VizDataModel.prototype.getRelations=function(){return this.relations.asArray()};VizDataModel$$module$VizDataModel.prototype.addRelation=function(relation){this.relations.push(relation);return this.relations.length};
var relcomparator$$module$VizDataModel=function(a,b){return a.srcPosId==b.srcPosId&&a.targetPosId==b.targetPosId};VizDataModel$$module$VizDataModel.prototype.removeRelation=function(relation){var toremove=this.relations.indexOf(relation,relcomparator$$module$VizDataModel);Util.log.console("To remove index in relations "+toremove);this.relations.remove(toremove)};
VizDataModel$$module$VizDataModel.prototype.removeAllRelations=function(){Util.log.console("removing all relations");this.relations.removeRange(0,this.relations.length);return this.relations.length};VizDataModel$$module$VizDataModel.prototype.getTitle=function(){var title="";$(this.meta.asArray()).each(function(idx){if(this.title!==undefined)title=this.title});return title};
VizDataModel$$module$VizDataModel.prototype.updateTitle=function(newTitle){var removedElem=null;$(this.meta.asArray()).each(function(idx){if(this.title!==undefined){removedElem=this;return}});this.meta.push({"title":newTitle})};VizDataModel$$module$VizDataModel.prototype.addNugget=function(nugget){Util.log.console("adding nugget: ");Util.log.console(nugget);this.nuggets.push(nugget);return this.nuggets.length};VizDataModel$$module$VizDataModel.prototype.getNuggets=function(){return this.nuggets.asArray()};
VizDataModel$$module$VizDataModel.prototype.removeNugget=function(nuggetId){nuggetsList=this.nuggets.asArray();$.each(nuggetsList,function(idx,nugget){if(nugget.nuggetId==nuggetId){this.nuggets.remove(idx);Util.log.console("Deleted nugget with ID"+nuggetId+" and description nugget.description");return}})};